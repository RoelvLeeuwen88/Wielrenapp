<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wielren Poule</title>
<style>
    /* Bestaande CSS-regels */
    
    /* Nieuwe CSS voor hoofdmenu en instructies */
    .hoofdmenu {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        background-color: #f0f0f0;
        padding: 10px;
        border-radius: 5px;
        margin: 10px 0;
    }
    
    .menu-button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 14px;
    }
    
    /* Overige nieuwe CSS-regels */
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f8f9fa;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .form-group {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        .punten-schema {
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .wedstrijd-selector {
            margin: 20px 0;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 4px;
        }
        .kopman-selector {
            margin: 10px 0;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 4px;
        }
        .active-wedstrijd {
            font-weight: bold;
            color: #007bff;
        }
        .tab-container {
            margin: 20px 0;
        }
        .tab-button {
            background-color: #e9ecef;
            color: #495057;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-right: 5px;
        }
        .tab-button.active {
            background-color: #007bff;
            color: white;
        }
        .renner-lijst {
            margin: 10px 0;
            padding: 15px;
            background-color: #fff5f5;
            border-radius: 4px;
            max-height: 500px;
            overflow-y: auto;
        }
        .renner-item {
            display: grid;
            grid-template-columns: auto 1fr 1fr 1fr 30px;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .renner-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        .renner-item input[type="text"] {
            margin: 0;
        }
        .renner-counter {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }
        .verwijder-renner {
            color: red;
            cursor: pointer;
            font-weight: bold;
        }
        .uitslag-invoer {
            margin: 20px 0;
        }
        .uitslag-rij {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr auto auto;
            gap: 10px;
            margin-bottom: 10px;
        }
        .uitslag-rij input {
            margin: 0;
        }
        .pcs-link {
            margin: 10px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .pcs-link a {
            color: #007bff;
            text-decoration: none;
        }
        .huidige-uitslag {
            margin-top: 20px;
        }
        .excel-upload {
            margin-bottom: 20px;
        }
        .manual-input {
            margin-bottom: 20px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .main-tabs {
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
            text-align: center;
        }
        .success-image {
            width: 100px;
            height: 100px;
            margin: 20px auto;
        }
        .modal-title {
            color: #28a745;
            font-size: 24px;
            margin-bottom: 15px;
        }
        .close-modal {
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 15px;
        }
        .close-modal:hover {
            background-color: #218838;
        }
        .ploeg-info {
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .renners-overzicht {
            margin: 20px 0;
        }
        .kopmannen-overzicht {
            margin: 20px 0;
        }
        .wedstrijd-kopmannen {
            margin: 10px 0;
            padding: 10px;
            background-color: #fff;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        .wedstrijd-kopmannen h5 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
        .kopman-item {
            margin: 5px 0;
            padding: 5px;
            background-color: #f0f8ff;
            border-radius: 4px;
        }
/* Notificatie systeem */
.notificatie-systeem {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    max-width: 300px;
}

.notificatie {
    background-color: white;
    border-left: 4px solid #007bff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 15px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    animation: slideIn 0.3s ease-out;
}

.notificatie-icoon {
    margin-right: 10px;
    font-size: 20px;
    color: #007bff;
}

.notificatie-bericht {
    flex-grow: 1;
}

.notificatie-sluit {
    margin-left: 10px;
    cursor: pointer;
    font-size: 18px;
    color: #666;
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Wielren Poule</h1>
        
        <!-- Hoofdtabbladen -->
        <div class="main-tabs">
            <button class="tab-button active" onclick="toonTab('algemeen')">Algemeen Overzicht</button>
            <button class="tab-button" onclick="toonTab('omloop')">Omloop Het Nieuwsblad</button>
            <button class="tab-button" onclick="toonTab('kbk')">Kuurne-Brussel-Kuurne</button>
            <button class="tab-button" onclick="toonTab('strade')">Strade Bianche</button>
            <button class="tab-button" onclick="toonTab('msm')">Milaan-San Remo</button>
            <button class="tab-button" onclick="toonTab('bdp')">Brugge-De Panne</button>
            <button class="tab-button" onclick="toonTab('e3')">E3 Prijs</button>
            <button class="tab-button" onclick="toonTab('gw')">Gent-Wevelgem</button>
            <button class="tab-button" onclick="toonTab('ddv')">Dwars door Vlaanderen</button>
            <button class="tab-button" onclick="toonTab('rvv')">Ronde van Vlaanderen</button>
            <button class="tab-button" onclick="toonTab('scheldeprijs')">Scheldeprijs</button>
            <button class="tab-button" onclick="toonTab('roubaix')">Parijs-Roubaix</button>
            <button class="tab-button" onclick="toonTab('brabantse')">Brabantse Pijl</button>
            <button class="tab-button" onclick="toonTab('amstel')">Amstel Gold Race</button>
            <button class="tab-button" onclick="toonTab('waalse')">Waalse Pijl</button>
            <button class="tab-button" onclick="toonTab('luik')">Luik-Bastenaken-Luik</button>
 </div>

<div class="hoofdmenu">
    <button onclick="toonPuntenOverzicht()" class="menu-button">
        <span class="menu-icon">üìä</span> Punten Overzicht
    </button>
    <button onclick="exporteerStandNaarCSV()" class="menu-button">
        <span class="menu-icon">üìÑ</span> Exporteer Stand
    </button>
    <button onclick="maakBackup()" class="menu-button">
        <span class="menu-icon">üíæ</span> Backup Maken
    </button>
    <div class="backup-restore">
        <label for="backupBestand" class="menu-button">
            <span class="menu-icon">üìÇ</span> Backup Herstellen
        </label>
        <input type="file" id="backupBestand" accept=".json" style="display: none;" onchange="herstelnBackup(this)">
    </div>
    <button onclick="toggleInstructies()" class="menu-button">
        <span class="menu-icon">‚ùì</span> Handleiding
    </button>
</div>

<!-- Instructies paneel - Voeg dit hier toe -->
<div class="instructies-panel" id="instructiesPanel" style="display: none;">
    <h3>üìù Handleiding Wielren Poule</h3>
    <div class="instructies-content">
        <h4>Zo werkt het</h4>
        <ol>
            <li><strong>Stap 1:</strong> Maak een team aan en geef het een naam</li>
            <li><strong>Stap 2:</strong> Selecteer 25 renners voor je team
                <ul>
                    <li>Upload een Excel bestand met renners, OF</li>
                    <li>Voer handmatig 25 renners in</li>
                </ul>
            </li>
            <li><strong>Stap 3:</strong> Voor elke wedstrijd:
                <ul>
                    <li>Selecteer 3 kopmannen die extra punten krijgen</li>
                    <li>Na de wedstrijd: voer de uitslag in en bereken punten</li>
                </ul>
            </li>
        </ol>
        
        <h4>Puntensysteem</h4>
        <table class="instructies-tabel">
            <tr>
                <th>Positie</th>
                <th>Punten</th>
                <th>Kopman 1 (√ó3)</th>
                <th>Kopman 2 (√ó2.5)</th>
                <th>Kopman 3 (√ó2)</th>
            </tr>
            <tr><td>1</td><td>100</td><td>300</td><td>250</td><td>200</td></tr>
            <tr><td>2</td><td>90</td><td>270</td><td>225</td><td>180</td></tr>
            <tr><td>3</td><td>80</td><td>240</td><td>200</td><td>160</td></tr>
            <tr><td>4</td><td>70</td><td>210</td><td>175</td><td>140</td></tr>
            <tr><td>5</td><td>64</td><td>192</td><td>160</td><td>128</td></tr>
            <tr><td>6</td><td>60</td><td>180</td><td>150</td><td>120</td></tr>
            <tr><td>7</td><td>56</td><td>168</td><td>140</td><td>112</td></tr>
            <tr><td>8</td><td>52</td><td>156</td><td>130</td><td>104</td></tr>
            <tr><td>9</td><td>48</td><td>144</td><td>120</td><td>96</td></tr>
            <tr><td>10</td><td>44</td><td>132</td><td>110</td><td>88</td></tr>
            <tr><td>11-20</td><td>40-4</td><td>120-12</td><td>100-10</td><td>80-8</td></tr>
        </table>
        
        <h4>Tips</h4>
        <ul>
            <li>Klik op "Punten Overzicht" voor een gedetailleerd overzicht van alle punten</li>
            <li>Maak regelmatig een backup van je data via de "Backup Maken" knop</li>
            <li>Gebruik de Excel upload functie voor snelle invoer van uitslagen</li>
        </ul>
    </div>
    <button onclick="toggleInstructies()" class="close-instructies">Sluiten</button>
</div>

<!-- Algemeen Overzicht --> <!-- Dit is waar je tabblad-inhoud begint -->

        <!-- Algemeen Overzicht -->
        <div id="tab-algemeen" class="tab-content active">
            <!-- Stap 1: Ploegnaam -->
            <div class="form-group" id="stap1">
                <h2>Stap 1: Ploegnaam Invoeren</h2>
                <label for="team">Naam van je ploeg:</label>
                <input type="text" id="team" required>
                <button onclick="naarStap2()">Volgende Stap</button>
            </div>

            <!-- Stap 2: Renners Selecteren -->
            <div class="form-group" id="stap2" style="display: none;">
                <h2>Stap 2: Renners Toevoegen</h2>
                <p>Voeg 25 renners toe aan je ploeg</p>
                
                <div class="excel-upload">
                    <h4>Excel Bestand Uploaden</h4>
                    <p>Upload een Excel bestand met de volgende kolommen:</p>
                    <ul>
                        <li>Kolom B: Renner (naam)</li>
                        <li>Kolom C: Ploeg</li>
                        <li>Kolom D: Nationaliteit</li>
                    </ul>
                    <input type="file" id="rennerExcelFile" accept=".xlsx, .xls, .csv" onchange="verwerkRennersExcel(this)">
                    <button onclick="zoekAlleRennersOpPCS()" id="zoekAlleRennersBtn" style="display: none;">Zoek Alle Renners op PCS</button>
                </div>
                
                <div class="form-group">
                    <h4>Of Voer Handmatig In</h4>
                    <label for="nieuweRenner">Nieuwe Renner:</label>
                    <input type="text" id="nieuweRenner" placeholder="Naam renner">
                    <input type="text" id="nieuweRennerTeam" placeholder="Ploeg">
                    <input type="text" id="nieuweRennerNationaliteit" placeholder="Nationaliteit">
                    <button onclick="voegRennerToe()">Voeg Renner Toe</button>
                </div>

                <div class="renner-lijst">
                    <h3>Geselecteerde Renners</h3>
                    <div id="rennerLijst"></div>
                    <p class="renner-counter">Geselecteerd: <span id="rennerTeller">0</span>/25</p>
                </div>
                
                <button onclick="voltooiInschrijving()" id="voltooiBtn" disabled>Voltooi Inschrijving</button>
            </div>

            <!-- Stap 3: Ploeg Overzicht -->
            <div class="form-group" id="stap3" style="display: none;">
                <h2>Je Ploeg Overzicht</h2>
                <div class="ploeg-info">
                    <h3>Ploegnaam: <span id="ploegNaamDisplay"></span></h3>
                    <div class="renners-overzicht">
                        <h4>Je Renners:</h4>
                        <table id="rennersOverzichtTabel">
                            <thead>
                                <tr>
                                    <th>Naam</th>
                                    <th>Team</th>
                                    <th>Nationaliteit</th>
                                    <th>PCS Link</th>
                                </tr>
                            </thead>
                            <tbody id="rennersOverzichtBody"></tbody>
                        </table>
                    </div>
                    <div class="kopmannen-overzicht">
                        <h4>Kopmannen per Wedstrijd:</h4>
                        <div id="kopmannenOverzicht"></div>
                    </div>
                </div>
                <button onclick="bewerkPloeg()">Bewerk Ploeg</button>
            </div>
        </div>

        <!-- Omloop Het Nieuwsblad -->
        <div id="tab-omloop" class="tab-content">
            <h2>Omloop Het Nieuwsblad</h2>
            <!-- Kopmannen Selectie -->
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-omloop" onchange="updateKopmannenVelden('omloop')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-omloop">Kopman 1 (√ó3):</label>
                    <select id="kopman1-omloop" required></select>
                    <label for="kopman2-omloop">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-omloop" required></select>
                    <label for="kopman3-omloop">Kopman 3 (√ó2):</label>
                    <select id="kopman3-omloop" required></select>
                </div>
                <button onclick="slaKopmannenOp('omloop')">Kopmannen Opslaan</button>
            </div>

            <!-- Uitslag Invoer -->
            <div class="uitslag-invoer">
                <div class="pcs-link">
                    <a href="https://www.procyclingstats.com/race/omloop-het-nieuwsblad/2025/result" target="_blank" id="pcsLink">
                        Bekijk uitslag op ProCyclingStats
                    </a>
                </div>

                <div class="excel-upload">
                    <h4>Excel Bestand Uploaden</h4>
                    <p>Upload een Excel bestand met de volgende kolommen:</p>
                    <ul>
                        <li>Kolom A: Positie (nummer)</li>
                        <li>Kolom B: Renner (naam)</li>
                        <li>Kolom C: Team</li>
                    </ul>
                    <input type="file" id="excelFile" accept=".xlsx, .xls, .csv" onchange="verwerkExcelBestand(this)">
                </div>

                <div class="manual-input">
                    <h4>Of Voer Handmatig In</h4>
                    <div class="uitslag-invoer">
                        <div class="uitslag-rij">
                            <input type="text" placeholder="Renner naam" class="renner-naam">
                            <input type="text" placeholder="Team" class="renner-team">
                            <input type="number" placeholder="Positie" class="renner-positie" min="1" max="20">
                            <button onclick="zoekRenner(this)">Zoek op PCS</button>
                            <button onclick="voegUitslagToe(this)">Toevoegen</button>
                        </div>
            <div class="huidige-uitslag">
                <h3>Ingevoerde Uitslag</h3>
                <table id="uitslagTabel">
                    <thead>
                        <tr>
                            <th>Positie</th>
                            <th>Renner</th>
                            <th>Team</th>
                            <th>Actie</th>
                        </tr>
                    </thead>
                    <tbody id="uitslagBody"></tbody>
                </table>
                <button onclick="verwerkUitslag()">Verwerk Uitslag & Update Punten</button>
            </div>
        </div>
    </div>
        </div>

        <!-- Kuurne-Brussel-Kuurne -->
        <div id="tab-kbk" class="tab-content">
            <h2>Kuurne-Brussel-Kuurne</h2>
            <!-- Kopmannen Selectie -->
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-kbk" onchange="updateKopmannenVelden('kbk')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-kbk">Kopman 1 (√ó3):</label>
                    <select id="kopman1-kbk" required></select>
                    <label for="kopman2-kbk">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-kbk" required></select>
                    <label for="kopman3-kbk">Kopman 3 (√ó2):</label>
                    <select id="kopman3-kbk" required></select>
                </div>
                <button onclick="slaKopmannenOp('kbk')">Kopmannen Opslaan</button>
            </div>

            <!-- Uitslag Invoer -->
            <div class="uitslag-invoer">
                <div class="pcs-link">
                    <a href="https://www.procyclingstats.com/race/kuurne-brussel-kuurne/2025/result" target="_blank" id="pcsLink">
                        Bekijk uitslag op ProCyclingStats
                    </a>
                </div>

                <div class="excel-upload">
                    <h4>Excel Bestand Uploaden</h4>
                    <p>Upload een Excel bestand met de volgende kolommen:</p>
                    <ul>
                        <li>Kolom A: Positie (nummer)</li>
                        <li>Kolom B: Renner (naam)</li>
                        <li>Kolom C: Team</li>
                    </ul>
                    <input type="file" id="excelFile" accept=".xlsx, .xls, .csv" onchange="verwerkExcelBestand(this)">
                </div>

                <div class="manual-input">
                    <h4>Of Voer Handmatig In</h4>
                    <div class="uitslag-invoer">
                        <div class="uitslag-rij">
                            <input type="text" placeholder="Renner naam" class="renner-naam">
                            <input type="text" placeholder="Team" class="renner-team">
                            <input type="number" placeholder="Positie" class="renner-positie" min="1" max="20">
                            <button onclick="zoekRenner(this)">Zoek op PCS</button>
                            <button onclick="voegUitslagToe(this)">Toevoegen</button>
                        </div>
            <div class="huidige-uitslag">
                <h3>Ingevoerde Uitslag</h3>
                <table id="uitslagTabel">
                    <thead>
                        <tr>
                            <th>Positie</th>
                            <th>Renner</th>
                            <th>Team</th>
                            <th>Actie</th>
                        </tr>
                    </thead>
                    <tbody id="uitslagBody"></tbody>
                </table>
                <button onclick="verwerkUitslag()">Verwerk Uitslag & Update Punten</button>
            </div>
        </div>
    </div>
        </div>

        <!-- Strade Bianche -->
        <div id="tab-strade" class="tab-content">
            <h2>Strade Bianche</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-strade" onchange="updateKopmannenVelden('strade')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-strade">Kopman 1 (√ó3):</label>
                    <select id="kopman1-strade" required></select>
                    <label for="kopman2-strade">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-strade" required></select>
                    <label for="kopman3-strade">Kopman 3 (√ó2):</label>
                    <select id="kopman3-strade" required></select>
                </div>
                <button onclick="slaKopmannenOp('strade')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Milaan-San Remo -->
        <div id="tab-msm" class="tab-content">
            <h2>Milaan-San Remo</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-msm" onchange="updateKopmannenVelden('msm')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-msm">Kopman 1 (√ó3):</label>
                    <select id="kopman1-msm" required></select>
                    <label for="kopman2-msm">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-msm" required></select>
                    <label for="kopman3-msm">Kopman 3 (√ó2):</label>
                    <select id="kopman3-msm" required></select>
                </div>
                <button onclick="slaKopmannenOp('msm')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Brugge-De Panne -->
        <div id="tab-bdp" class="tab-content">
            <h2>Brugge-De Panne</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-bdp" onchange="updateKopmannenVelden('bdp')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-bdp">Kopman 1 (√ó3):</label>
                    <select id="kopman1-bdp" required></select>
                    <label for="kopman2-bdp">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-bdp" required></select>
                    <label for="kopman3-bdp">Kopman 3 (√ó2):</label>
                    <select id="kopman3-bdp" required></select>
                </div>
                <button onclick="slaKopmannenOp('bdp')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- E3 Prijs -->
        <div id="tab-e3" class="tab-content">
            <h2>E3 Prijs</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-e3" onchange="updateKopmannenVelden('e3')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-e3">Kopman 1 (√ó3):</label>
                    <select id="kopman1-e3" required></select>
                    <label for="kopman2-e3">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-e3" required></select>
                    <label for="kopman3-e3">Kopman 3 (√ó2):</label>
                    <select id="kopman3-e3" required></select>
                </div>
                <button onclick="slaKopmannenOp('e3')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Gent-Wevelgem -->
        <div id="tab-gw" class="tab-content">
            <h2>Gent-Wevelgem</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-gw" onchange="updateKopmannenVelden('gw')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-gw">Kopman 1 (√ó3):</label>
                    <select id="kopman1-gw" required></select>
                    <label for="kopman2-gw">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-gw" required></select>
                    <label for="kopman3-gw">Kopman 3 (√ó2):</label>
                    <select id="kopman3-gw" required></select>
                </div>
                <button onclick="slaKopmannenOp('gw')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Dwars door Vlaanderen -->
        <div id="tab-ddv" class="tab-content">
            <h2>Dwars door Vlaanderen</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-ddv" onchange="updateKopmannenVelden('ddv')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-ddv">Kopman 1 (√ó3):</label>
                    <select id="kopman1-ddv" required></select>
                    <label for="kopman2-ddv">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-ddv" required></select>
                    <label for="kopman3-ddv">Kopman 3 (√ó2):</label>
                    <select id="kopman3-ddv" required></select>
                </div>
                <button onclick="slaKopmannenOp('ddv')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Ronde van Vlaanderen -->
        <div id="tab-rvv" class="tab-content">
            <h2>Ronde van Vlaanderen</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-rvv" onchange="updateKopmannenVelden('rvv')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-rvv">Kopman 1 (√ó3):</label>
                    <select id="kopman1-rvv" required></select>
                    <label for="kopman2-rvv">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-rvv" required></select>
                    <label for="kopman3-rvv">Kopman 3 (√ó2):</label>
                    <select id="kopman3-rvv" required></select>
                </div>
                <button onclick="slaKopmannenOp('rvv')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Scheldeprijs -->
        <div id="tab-scheldeprijs" class="tab-content">
            <h2>Scheldeprijs</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-scheldeprijs" onchange="updateKopmannenVelden('scheldeprijs')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-scheldeprijs">Kopman 1 (√ó3):</label>
                    <select id="kopman1-scheldeprijs" required></select>
                    <label for="kopman2-scheldeprijs">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-scheldeprijs" required></select>
                    <label for="kopman3-scheldeprijs">Kopman 3 (√ó2):</label>
                    <select id="kopman3-scheldeprijs" required></select>
                </div>
                <button onclick="slaKopmannenOp('scheldeprijs')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Parijs-Roubaix -->
        <div id="tab-roubaix" class="tab-content">
            <h2>Parijs-Roubaix</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-roubaix" onchange="updateKopmannenVelden('roubaix')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-roubaix">Kopman 1 (√ó3):</label>
                    <select id="kopman1-roubaix" required></select>
                    <label for="kopman2-roubaix">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-roubaix" required></select>
                    <label for="kopman3-roubaix">Kopman 3 (√ó2):</label>
                    <select id="kopman3-roubaix" required></select>
                </div>
                <button onclick="slaKopmannenOp('roubaix')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Brabantse Pijl -->
        <div id="tab-brabantse" class="tab-content">
            <h2>Brabantse Pijl</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-brabantse" onchange="updateKopmannenVelden('brabantse')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-brabantse">Kopman 1 (√ó3):</label>
                    <select id="kopman1-brabantse" required></select>
                    <label for="kopman2-brabantse">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-brabantse" required></select>
                    <label for="kopman3-brabantse">Kopman 3 (√ó2):</label>
                    <select id="kopman3-brabantse" required></select>
                </div>
                <button onclick="slaKopmannenOp('brabantse')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Amstel Gold Race -->
        <div id="tab-amstel" class="tab-content">
            <h2>Amstel Gold Race</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-amstel" onchange="updateKopmannenVelden('amstel')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-amstel">Kopman 1 (√ó3):</label>
                    <select id="kopman1-amstel" required></select>
                    <label for="kopman2-amstel">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-amstel" required></select>
                    <label for="kopman3-amstel">Kopman 3 (√ó2):</label>
                    <select id="kopman3-amstel" required></select>
                </div>
                <button onclick="slaKopmannenOp('amstel')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Waalse Pijl -->
        <div id="tab-waalse" class="tab-content">
            <h2>Waalse Pijl</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-waalse" onchange="updateKopmannenVelden('waalse')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-waalse">Kopman 1 (√ó3):</label>
                    <select id="kopman1-waalse" required></select>
                    <label for="kopman2-waalse">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-waalse" required></select>
                    <label for="kopman3-waalse">Kopman 3 (√ó2):</label>
                    <select id="kopman3-waalse" required></select>
                </div>
                <button onclick="slaKopmannenOp('waalse')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Luik-Bastenaken-Luik -->
        <div id="tab-luik" class="tab-content">
            <h2>Luik-Bastenaken-Luik</h2>
            <div class="kopman-selector">
                <h3>Kopmannen Selectie</h3>
                <select id="deelnemerKopman-luik" onchange="updateKopmannenVelden('luik')">
                    <option value="">Selecteer deelnemer</option>
                </select>
                <div class="kopmannen-velden">
                    <label for="kopman1-luik">Kopman 1 (√ó3):</label>
                    <select id="kopman1-luik" required></select>
                    <label for="kopman2-luik">Kopman 2 (√ó2.5):</label>
                    <select id="kopman2-luik" required></select>
                    <label for="kopman3-luik">Kopman 3 (√ó2):</label>
                    <select id="kopman3-luik" required></select>
                </div>
                <button onclick="slaKopmannenOp('luik')">Kopmannen Opslaan</button>
            </div>
        </div>

        <!-- Ranglijst -->
        <div id="ranglijstContainer">
            <h2>Ranglijst <span id="ranglijstWedstrijdNaam">Algemeen</span></h2>
            <table id="ranglijst">
                <thead>
                    <tr>
                        <th>Positie</th>
                        <th>Ploeg</th>
                        <th>Renners</th>
                        <th>Kopmannen</th>
                        <th>Punten</th>
                    </tr>
                </thead>
                <tbody id="ranglijstBody">
                </tbody>
            </table>
        </div>
       <!-- Notificatie systeem -->
<div id="notificatie-systeem" class="notificatie-systeem" style="display: none;">
    <div class="notificatie">
        <span class="notificatie-icoon">‚úì</span>
        <span class="notificatie-bericht" id="notificatie-bericht">Dit is een notificatie</span>
        <span class="notificatie-sluit" onclick="sluitNotificatie()">√ó</span>
    </div>
</div>
    </div>
    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <img src="https://cdn-icons-png.flaticon.com/512/2830/2830312.png" alt="Success" class="success-image">
            <h2 class="modal-title">Gefeliciteerd!</h2>
            <p>Je inschrijving is succesvol voltooid.</p>
            <button class="close-modal" onclick="document.getElementById('successModal').style.display='none'; window.location.reload();">Sluiten</button>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // Globale variabelen
        let deelnemers = [];
        let huidigeWedstrijd = 'algemeen';
        let wedstrijdData = {
            'omloop': { naam: 'Omloop Het Nieuwsblad', scores: {} },
            'kbk': { naam: 'Kuurne-Brussel-Kuurne', scores: {} },
            'strade': { naam: 'Strade Bianche', scores: {} },
            'msm': { naam: 'Milaan-San Remo', scores: {} },
            'bdp': { naam: 'Brugge-De Panne', scores: {} },
            'e3': { naam: 'E3 Prijs', scores: {} },
            'gw': { naam: 'Gent-Wevelgem', scores: {} },
            'ddv': { naam: 'Dwars door Vlaanderen', scores: {} },
            'rvv': { naam: 'Ronde van Vlaanderen', scores: {} },
            'scheldeprijs': { naam: 'Scheldeprijs', scores: {} },
            'roubaix': { naam: 'Parijs-Roubaix', scores: {} },
            'brabantse': { naam: 'Brabantse Pijl', scores: {} },
            'amstel': { naam: 'Amstel Gold Race', scores: {} },
            'waalse': { naam: 'Waalse Pijl', scores: {} },
            'luik': { naam: 'Luik-Bastenaken-Luik', scores: {} }
        };

        // Laad opgeslagen data bij het starten
        window.addEventListener('load', () => {
            const opgeslagenData = localStorage.getItem('wielrenPouleData');
            if (opgeslagenData) {
                try {
                    const data = JSON.parse(opgeslagenData);
                    deelnemers = data.deelnemers || [];
                    wedstrijdData = data.wedstrijdData || wedstrijdData;
                } catch (e) {
                    console.error('Fout bij laden opgeslagen data:', e);
                    deelnemers = [];
                }
            }
            updateRanglijst();
            updateDeelnemerKopmanSelect();
        });

        function slaDataOp() {
            localStorage.setItem('wielrenPouleData', JSON.stringify({
                deelnemers: deelnemers,
                wedstrijdData: wedstrijdData
            }));
        }

        // Deze functie wordt aangeroepen wanneer op de "Volgende Stap" knop wordt geklikt
        function naarStap2() {
            console.log('naarStap2 functie wordt uitgevoerd'); // Debug log
            const teamNaam = document.getElementById('team').value.trim();
            if (!teamNaam) {
                alert('Vul eerst een ploegnaam in');
                return;
            }

            // Controleer of het team al bestaat
            const bestaandTeam = deelnemers.find(d => d.naam.toLowerCase() === teamNaam.toLowerCase());
            
            // Verberg stap 1 en toon stap 2
            const stap1Element = document.getElementById('stap1');
            const stap2Element = document.getElementById('stap2');
            
            if (stap1Element && stap2Element) {
                stap1Element.style.display = 'none';
                stap2Element.style.display = 'block';
                
                if (bestaandTeam) {
                    // Laad bestaande team data
                    const rennerLijst = document.getElementById('rennerLijst');
                    if (rennerLijst) {
                        rennerLijst.innerHTML = '';
                        bestaandTeam.renners.forEach(renner => {
                            const rennerDiv = document.createElement('div');
                            rennerDiv.className = 'renner-item';
                            rennerDiv.innerHTML = `
                                <input type="checkbox" checked value='${JSON.stringify(renner)}' onchange="updateRennerTeller()">
                                <span>${renner.naam}</span>
                                <span>${renner.team}</span>
                                <span>${renner.nationaliteit}</span>
                                <a href="https://www.procyclingstats.com/search.php?term=${encodeURIComponent(renner.naam)}" target="_blank">PCS</a>
                            `;
                            rennerLijst.appendChild(rennerDiv);
                        });
                    }
                    alert('Bestaand team geladen. Je kunt de renners bewerken.');
                } else {
                    // Reset voor nieuw team
                    const rennerLijst = document.getElementById('rennerLijst');
                    if (rennerLijst) {
                        rennerLijst.innerHTML = '';
                    }
                }
                
                // Update de teller
                updateRennerTeller();
            } else {
                console.error('Stap1 of Stap2 element niet gevonden!');
            }
        }

        function toonTab(tabId) {
            // Verberg alle tab content
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            // Verwijder active class van alle tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Toon geselecteerde tab
            const selectedTab = document.getElementById('tab-' + tabId);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active');
            }
            
            // Update active class op button
            const activeButton = document.querySelector(`.tab-button[onclick="toonTab('${tabId}')"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
            
            // Update huidige wedstrijd
            huidigeWedstrijd = tabId;
            
            // Update titel en ranglijst
            updateRanglijst();
        }

        function toonNotificatie(bericht, type = 'info') {
            const notificatieSystem = document.querySelector('.notificatie-systeem') || createNotificatieSystem();
            const notificatie = document.createElement('div');
            notificatie.className = `notificatie notificatie-${type}`;
            notificatie.innerHTML = `
                <span class="notificatie-icoon">${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}</span>
                <span class="notificatie-bericht">${bericht}</span>
                <span class="notificatie-sluit" onclick="this.parentElement.remove()">√ó</span>
            `;
            notificatieSystem.appendChild(notificatie);
            setTimeout(() => notificatie.remove(), 5000);
        }

        function createNotificatieSystem() {
            const system = document.createElement('div');
            system.className = 'notificatie-systeem';
            document.body.appendChild(system);
            return system;
        }

        function updateKopmannenVelden(wedstrijdId) {
            const deelnemerSelect = document.getElementById(`deelnemerKopman-${wedstrijdId}`);
            const deelnemerIndex = deelnemerSelect.value;
            
            if (!deelnemerIndex || !deelnemers[deelnemerIndex]) {
                return;
            }
            
            const deelnemer = deelnemers[deelnemerIndex];
            const kopmanSelects = [
                document.getElementById(`kopman1-${wedstrijdId}`),
                document.getElementById(`kopman2-${wedstrijdId}`),
                document.getElementById(`kopman3-${wedstrijdId}`)
            ];
            
            // Vul de kopman selecties met de renners van de geselecteerde deelnemer
            kopmanSelects.forEach(select => {
                if (!select) return;
                
                select.innerHTML = '<option value="">Selecteer renner</option>';
                deelnemer.renners.forEach(renner => {
                    const option = document.createElement('option');
                    option.value = JSON.stringify(renner);
                    option.textContent = `${renner.naam} (${renner.team})`;
                    select.appendChild(option);
                });
                
                // Als er al kopmannen zijn geselecteerd, selecteer deze weer
                if (deelnemer.kopmannen[wedstrijdId]) {
                    const kopmanIndex = kopmanSelects.indexOf(select);
                    const bestaandeKopman = deelnemer.kopmannen[wedstrijdId][kopmanIndex];
                    if (bestaandeKopman) {
                        select.value = JSON.stringify(bestaandeKopman);
                    }
                }
            });
        }

        function slaKopmannenOp(wedstrijdId) {
            const deelnemerSelect = document.getElementById(`deelnemerKopman-${wedstrijdId}`);
            const deelnemerIndex = deelnemerSelect.value;
            
            if (!deelnemerIndex || !deelnemers[deelnemerIndex]) {
                toonNotificatie('Selecteer eerst een deelnemer', 'error');
                return;
            }
            
            const kopmannen = [
                document.getElementById(`kopman1-${wedstrijdId}`),
                document.getElementById(`kopman2-${wedstrijdId}`),
                document.getElementById(`kopman3-${wedstrijdId}`)
            ].map(select => {
                try {
                    return select.value ? JSON.parse(select.value) : null;
                } catch (e) {
                    console.error('Fout bij parsen kopman data:', e);
                    return null;
                }
            }).filter(k => k !== null);
            
            // Controleer of er 3 verschillende kopmannen zijn geselecteerd
            if (kopmannen.length !== 3) {
                toonNotificatie('Selecteer 3 verschillende kopmannen', 'error');
                return;
            }
            
            // Controleer op duplicaten
            const uniekKopmannen = new Set(kopmannen.map(k => k.naam));
            if (uniekKopmannen.size !== 3) {
                toonNotificatie('Je kunt niet dezelfde renner meerdere keren als kopman selecteren', 'error');
                return;
            }
            
            // Sla kopmannen op
            deelnemers[deelnemerIndex].kopmannen[wedstrijdId] = kopmannen;
            slaDataOp();
            toonNotificatie('Kopmannen opgeslagen!', 'success');
            updateRanglijst();
        }

        function updateRennerTeller() {
            const aantalGeselecteerd = document.querySelectorAll('#rennerLijst input[type="checkbox"]:checked').length;
            document.getElementById('rennerTeller').textContent = aantalGeselecteerd;
            document.getElementById('voltooiBtn').disabled = aantalGeselecteerd !== 25;
        }

        function selecteerWedstrijd(wedstrijd) {
            huidigeWedstrijd = wedstrijd;
            
            // Update alle wedstrijdnaam spans
            document.querySelectorAll('[id$="WedstrijdNaam"]').forEach(element => {
                element.textContent = wedstrijdData[wedstrijd].naam;
            });
            
            // Update alle tab-buttons in alle secties
            document.querySelectorAll('.tab-button').forEach(button => {
                if (button.textContent.includes(wedstrijdData[wedstrijd].naam)) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });

            // Update PCS link
            const pcsLink = document.getElementById('pcsLink');
            const pcsUrls = {
                'omloop': 'https://www.procyclingstats.com/race/omloop-het-nieuwsblad/2025/result',
                'kbk': 'https://www.procyclingstats.com/race/kuurne-brussel-kuurne/2025/result'
            };
            pcsLink.href = pcsUrls[wedstrijd];
        }
        function berekenPunten(positie) {
            if (positie === 1) return 100;
            if (positie === 2) return 90;
            if (positie === 3) return 80;
            if (positie === 4) return 70;
            if (positie === 5) return 64;
            if (positie > 5 && positie <= 20) {
                return 64 - ((positie - 5) * 4);
            }
            return 0;
        }

        function berekenTeamPunten(positie, isGestart) {
            if (!isGestart) return 0;
            if (positie === 1) return 30;
            if (positie === 2) return 20;
            if (positie === 3) return 10;
            return 0;
        }

        function berekenKopmanBonus(basisPunten, kopmanNummer) {
            switch(kopmanNummer) {
                case 1: return basisPunten * 3;
                case 2: return basisPunten * 2.5;
                case 3: return basisPunten * 2;
                default: return basisPunten;
            }
        }

        function voegRennerToe() {
            const naam = document.getElementById('nieuweRenner').value.trim();
            const team = document.getElementById('nieuweRennerTeam').value.trim();
            const nationaliteit = document.getElementById('nieuweRennerNationaliteit').value.trim();
            
            if (naam && team && nationaliteit) {
                const container = document.getElementById('rennerLijst');
                const geselecteerd = document.querySelectorAll('#rennerLijst input:checked').length;
                
                if (geselecteerd >= 25) {
                    toonNotificatie('Je hebt al 25 renners geselecteerd.');
                    return;
                }
                
                const div = document.createElement('div');
                div.className = 'renner-item';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.value = JSON.stringify({naam, team, nationaliteit});
                checkbox.onchange = updateRennerTeller;
                
                const naamSpan = document.createElement('input');
                naamSpan.type = 'text';
                naamSpan.value = naam;
                naamSpan.readOnly = true;
                
                const teamSpan = document.createElement('input');
                teamSpan.type = 'text';
                teamSpan.value = team;
                teamSpan.readOnly = true;
                
                const natSpan = document.createElement('input');
                natSpan.type = 'text';
                natSpan.value = nationaliteit;
                natSpan.readOnly = true;
                
                const verwijderBtn = document.createElement('span');
                verwijderBtn.textContent = '√ó';
                verwijderBtn.className = 'verwijder-renner';
                verwijderBtn.onclick = () => {
                    div.remove();
                    updateRennerTeller();
                };
                
                div.appendChild(checkbox);
                div.appendChild(naamSpan);
                div.appendChild(teamSpan);
                div.appendChild(natSpan);
                div.appendChild(verwijderBtn);
                container.appendChild(div);
                
                // Reset input velden
                document.getElementById('nieuweRenner').value = '';
                document.getElementById('nieuweRennerTeam').value = '';
                document.getElementById('nieuweRennerNationaliteit').value = '';
            } else {
                toonNotificatie('Vul alle velden in voor de nieuwe renner.');
            }
        }

        function berekenPuntenVoorWedstrijd(wedstrijdId) {
            // Bepaal de wedstrijd ID (gebruik de huidige als er geen is meegegeven)
            const targetWedstrijdId = wedstrijdId || huidigeWedstrijd;
            
            // Controleer of wedstrijdId bestaat
            if (!wedstrijdData[targetWedstrijdId]) {
                console.error(`Wedstrijd ${targetWedstrijdId} bestaat niet!`);
                return;
            }
            
            deelnemers.forEach(deelnemer => {
                let totaalPunten = 0;
                const scores = wedstrijdData[targetWedstrijdId].scores;
                
                // Controleer voor elke renner in het team
                deelnemer.renners.forEach(renner => {
                    if (!renner || !renner.naam) return;
                    
                    // Zoek score voor deze renner
                    const rennerScore = scores[renner.naam];
                    if (rennerScore && rennerScore.positie) {
                        // Basispoints voor klassering
                        const basisPunten = berekenPunten(rennerScore.positie);
                        
                        // Check of renner een kopman is
                        const kopmannen = deelnemer.kopmannen[targetWedstrijdId] || [];
                        let kopmanIndex = -1;
                        
                        // Zoek de index van deze renner in de kopmannen array
                        for (let i = 0; i < kopmannen.length; i++) {
                            if (kopmannen[i] && kopmannen[i].naam === renner.naam) {
                                kopmanIndex = i;
                                break;
                            }
                        }
                        
                        if (kopmanIndex !== -1) {
                            // Kopman bonus toepassen
                            const kopmanBonus = kopmanIndex === 0 ? 3 : 
                                                kopmanIndex === 1 ? 2.5 : 
                                                kopmanIndex === 2 ? 2 : 1;
                            totaalPunten += basisPunten * kopmanBonus;
                        } else {
                            // Gewone punten
                            totaalPunten += basisPunten;
                        }
                        
                        // Check teamgenoot bonussen (indien van toepassing)
                        if (rennerScore.team) {
                            // Hier zou je de teamgenoot bonus logica kunnen toevoegen
                        }
                    }
                });
                
                // Update de punten voor deze wedstrijd
                deelnemer.punten[targetWedstrijdId] = totaalPunten;
            });
            
            // Sla data op
            slaDataOp();
            
            // Update de ranglijst na het berekenen
            updateRanglijst();
        }
        function updateRanglijst() {
            const tbody = document.getElementById('ranglijstBody');
            tbody.innerHTML = '';
            
            if (!deelnemers.length) return;
            
            const gesorteerdeDeelnemers = [...deelnemers].sort((a, b) => {
                if (huidigeWedstrijd === 'algemeen') {
                    // Tel punten van alle wedstrijden op voor algemeen klassement
                    const totaalA = Object.values(a.punten).reduce((sum, punten) => sum + punten, 0);
                    const totaalB = Object.values(b.punten).reduce((sum, punten) => sum + punten, 0);
                    return totaalB - totaalA;
                } else {
                    return b.punten[huidigeWedstrijd] - a.punten[huidigeWedstrijd];
                }
            });
            
            gesorteerdeDeelnemers.forEach((deelnemer, index) => {
                const row = tbody.insertRow();
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = deelnemer.naam;
                
                // Toon renners alleen in algemeen overzicht
                if (huidigeWedstrijd === 'algemeen') {
                    row.insertCell(2).textContent = deelnemer.renners.map(r => `${r.naam} (${r.team})`).join(', ');
                } else {
                    row.insertCell(2).textContent = '-';
                }
                
                // Toon kopmannen alleen in wedstrijd-specifieke tabs
                if (huidigeWedstrijd !== 'algemeen') {
                    const kopmannen = deelnemer.kopmannen[huidigeWedstrijd] || [];
                    row.insertCell(3).textContent = kopmannen.map(k => k.naam).join(', ') || 'Nog niet geselecteerd';
                } else {
                    row.insertCell(3).textContent = '-';
                }
                
                // Toon juiste punten
                const punten = huidigeWedstrijd === 'algemeen' ? 
                    Object.values(deelnemer.punten).reduce((sum, p) => sum + p, 0) :
                    deelnemer.punten[huidigeWedstrijd];
                row.insertCell(4).textContent = punten;
            });
        }
        function updateDeelnemerKopmanSelect() {
            const wedstrijden = [
                'omloop', 'kbk', 'strade', 'msm', 'bdp', 'e3', 'gw', 'ddv', 'rvv',
                'scheldeprijs', 'roubaix', 'brabantse', 'amstel', 'waalse', 'luik'
            ];
            
            wedstrijden.forEach(wedstrijd => {
                const select = document.getElementById(`deelnemerKopman-${wedstrijd}`);
                if (!select) return;
                
                select.innerHTML = '<option value="">Selecteer deelnemer</option>';
                
                if (Array.isArray(deelnemers)) {
                    deelnemers.forEach((deelnemer, index) => {
                        const option = document.createElement('option');
                        option.value = index;
                        option.textContent = deelnemer.naam;
                        select.appendChild(option);
                    });
                }
            });
        }

        function voltooiInschrijving() {
            const teamNaam = document.getElementById('team').value.trim();
            if (!teamNaam) {
                toonNotificatie('Vul eerst een ploegnaam in');
                return;
            }

            // Controleer of het team al bestaat
            const bestaandTeamIndex = deelnemers.findIndex(d => d.naam.toLowerCase() === teamNaam.toLowerCase());

            // Haal alle geselecteerde renners op en valideer ze
            const geselecteerdeRenners = Array.from(document.querySelectorAll('#rennerLijst input[type="checkbox"]:checked'))
                .map(cb => {
                    try {
                        return JSON.parse(cb.value);
                    } catch (e) {
                        console.error('Fout bij parsen renner data:', e);
                        return null;
                    }
                })
                .filter(renner => renner && renner.naam && renner.team && renner.nationaliteit);

            if (geselecteerdeRenners.length !== 25) {
                toonNotificatie('Selecteer exact 25 renners met complete informatie');
                return;
            }

            // Maak nieuwe deelnemer object met alle wedstrijden
            const deelnemerData = {
                naam: teamNaam,
                team: teamNaam,
                renners: geselecteerdeRenners,
                kopmannen: {
                    'omloop': [],
                    'kbk': [],
                    'strade': [],
                    'msm': [],
                    'bdp': [],
                    'e3': [],
                    'gw': [],
                    'ddv': [],
                    'rvv': [],
                    'scheldeprijs': [],
                    'roubaix': [],
                    'brabantse': [],
                    'amstel': [],
                    'waalse': [],
                    'luik': []
                },
                punten: {
                    'omloop': 0,
                    'kbk': 0,
                    'strade': 0,
                    'msm': 0,
                    'bdp': 0,
                    'e3': 0,
                    'gw': 0,
                    'ddv': 0,
                    'rvv': 0,
                    'scheldeprijs': 0,
                    'roubaix': 0,
                    'brabantse': 0,
                    'amstel': 0,
                    'waalse': 0,
                    'luik': 0
                }
            };

            // Update bestaand team of voeg nieuw team toe
            if (bestaandTeamIndex !== -1) {
                // Bewaar bestaande kopmannen en punten
                deelnemerData.kopmannen = deelnemers[bestaandTeamIndex].kopmannen;
                deelnemerData.punten = deelnemers[bestaandTeamIndex].punten;
                deelnemers[bestaandTeamIndex] = deelnemerData;
            } else {
                deelnemers.push(deelnemerData);
            }

            // Sla data op in localStorage
            slaDataOp();
            
            // Update UI
            updateRanglijst();
            updateDeelnemerKopmanSelect();
            toonPloegOverzicht(deelnemerData);

            // Toon success modal
            const modal = document.getElementById('successModal');
            if (modal) {
                modal.style.display = 'block';
            }
        }

        function toonPloegOverzicht(ploeg) {
            // Verberg stap 2 en toon stap 3
            document.getElementById('stap2').style.display = 'none';
            document.getElementById('stap3').style.display = 'block';
            
            // Update ploegnaam
            document.getElementById('ploegNaamDisplay').textContent = ploeg.naam;
            
            // Vul renners tabel
            const tbody = document.getElementById('rennersOverzichtBody');
            tbody.innerHTML = '';
            ploeg.renners.forEach(renner => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${renner.naam}</td>
                    <td>${renner.team}</td>
                    <td>${renner.nationaliteit}</td>
                    <td><a href="https://www.procyclingstats.com/search.php?term=${encodeURIComponent(renner.naam)}" target="_blank">PCS</a></td>
                `;
                tbody.appendChild(tr);
            });
            
            // Toon kopmannen per wedstrijd
            const kopmannenDiv = document.getElementById('kopmannenOverzicht');
            kopmannenDiv.innerHTML = '';
            Object.entries(wedstrijdData).forEach(([wedstrijdId, wedstrijd]) => {
                const kopmannen = ploeg.kopmannen[wedstrijdId] || [];
                const div = document.createElement('div');
                div.className = 'wedstrijd-kopmannen';
                div.innerHTML = `
                    <h5>${wedstrijd.naam}</h5>
                    ${kopmannen.length ? kopmannen.map((k, i) => `
                        <div class="kopman-item">
                            Kopman ${i + 1} (√ó${i === 0 ? '3' : i === 1 ? '2.5' : '2'}): ${k.naam} (${k.team})
                        </div>
                    `).join('') : '<p>Nog geen kopmannen geselecteerd</p>'}
                `;
                kopmannenDiv.appendChild(div);
            });
        }

        function bewerkPloeg() {
            // Ga terug naar stap 2
            document.getElementById('stap3').style.display = 'none';
            document.getElementById('stap2').style.display = 'block';
        }

        function zoekRenner(btn) {
            const rij = btn.parentElement;
            const naam = rij.querySelector('.renner-naam').value;
            
            // Open PCS zoekresultaat in nieuw tabblad
            window.open(`https://www.procyclingstats.com/search.php?term=${encodeURIComponent(naam)}`, '_blank');
        }

        function voegUitslagToe(btn) {
            const rij = btn.closest('.uitslag-rij');
            const naam = rij.querySelector('.renner-naam').value;
            const team = rij.querySelector('.renner-team').value;
            const positie = rij.querySelector('.renner-positie').value;
            
            if (!naam || !team || !positie) {
                toonNotificatie('Vul alle velden in');
                return;
            }
            
            const tbody = document.getElementById(`uitslagBody-${huidigeWedstrijd}`);
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${positie}</td>
                <td>${naam}</td>
                <td>${team}</td>
                <td><button onclick="this.parentElement.parentElement.remove()">Verwijder</button></td>
            `;
            tbody.appendChild(tr);
            
            // Reset de invoervelden
            rij.querySelector('.renner-naam').value = '';
            rij.querySelector('.renner-team').value = '';
            rij.querySelector('.renner-positie').value = '';
        }

        function verwerkUitslag() {
            const uitslag = Array.from(document.getElementById('uitslagBody').rows).map(row => ({
                naam: row.cells[1].textContent,
                team: row.cells[2].textContent,
                positie: parseInt(row.cells[0].textContent)
            }));
            
            // Reset bestaande scores voor deze wedstrijd
            wedstrijdData[huidigeWedstrijd].scores = {};
            
            // Verwerk nieuwe uitslag
            uitslag.forEach(({naam, team, positie}) => {
                wedstrijdData[huidigeWedstrijd].scores[naam] = {
                    positie: positie,
                    team: team,
                    isGestart: true
                };
            });
            
            // Herbereken punten
            berekenPuntenVoorWedstrijd();
            updateRanglijst();
            
            toonNotificatie('Uitslag verwerkt en punten bijgewerkt!');
        }

        async function verwerkExcelBestand(input) {
            const file = input.files[0];
            if (!file) return;

            try {
                const data = await file.arrayBuffer();
                const workbook = XLSX.read(data);
                const worksheet = workbook.Sheets[workbook.SheetNames[0]];
                
                // Converteer alleen de eerste drie kolommen (A, B, C)
                const jsonData = XLSX.utils.sheet_to_json(worksheet, {
                    header: ['positie', 'naam', 'team'],
                    range: 'A1:C1000' // Beperk tot eerste drie kolommen
                });

                // Leeg de huidige uitslag tabel
                document.getElementById('uitslagBody').innerHTML = '';

                // Verwerk elke rij uit Excel
                jsonData.forEach((row, index) => {
                    // Controleer of we een geldige rij hebben met alle benodigde gegevens
                    if (index === 0 && isNaN(row.positie)) return; // Sla header rij over
                    if (!row.positie || !row.naam || !row.team) return; // Sla onvolledige rijen over

                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${row.positie}</td>
                        <td>${row.naam}</td>
                        <td>${row.team}</td>
                        <td><button onclick="this.parentElement.parentElement.remove()">Verwijder</button></td>
                    `;
                    document.getElementById('uitslagBody').appendChild(tr);
                });

                toonNotificatie('Excel bestand succesvol ingeladen! Controleer de gegevens en klik op "Verwerk Uitslag & Update Punten" om de punten bij te werken.');
            } catch (error) {
                toonNotificatie('Er is een fout opgetreden bij het verwerken van het Excel bestand. Controleer of het bestand het juiste formaat heeft.');
                console.error('Excel verwerkingsfout:', error);
            }
        }

        async function verwerkRennersExcel(input) {
            const file = input.files[0];
            if (!file) return;

            try {
                const data = await file.arrayBuffer();
                const workbook = XLSX.read(data);
                const worksheet = workbook.Sheets[workbook.SheetNames[0]];
                
                // Converteer kolommen B, C en D
                const jsonData = XLSX.utils.sheet_to_json(worksheet, {
                    header: ['skip', 'naam', 'team', 'nationaliteit'], // Skip kolom A
                    range: 'A1:D27' // Lees tot en met rij 27
                });

                // Leeg de huidige rennerlijst
                document.getElementById('rennerLijst').innerHTML = '';

                // Verwerk alleen rij 3 t/m 27 (index 2-26)
                jsonData.slice(2, 27).forEach(row => {
                    if (!row.naam || !row.team || !row.nationaliteit) {
                        console.warn('Ongeldige rij gevonden:', row);
                        return;
                    }

                    const div = document.createElement('div');
                    div.className = 'renner-item';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.checked = true; // Automatisch aanvinken
                    checkbox.value = JSON.stringify({
                        naam: row.naam,
                        team: row.team,
                        nationaliteit: row.nationaliteit
                    });
                    checkbox.onchange = updateRennerTeller;
                    
                    const naamSpan = document.createElement('input');
                    naamSpan.type = 'text';
                    naamSpan.value = row.naam;
                    naamSpan.readOnly = true;
                    
                    const teamSpan = document.createElement('input');
                    teamSpan.type = 'text';
                    teamSpan.value = row.team;
                    teamSpan.readOnly = true;
                    
                    const natSpan = document.createElement('input');
                    natSpan.type = 'text';
                    natSpan.value = row.nationaliteit;
                    natSpan.readOnly = true;
                    
                    const pcsLink = document.createElement('a');
                    pcsLink.href = `https://www.procyclingstats.com/search.php?term=${encodeURIComponent(row.naam)}`;
                    pcsLink.target = '_blank';
                    pcsLink.textContent = 'PCS';
                    pcsLink.style.marginRight = '10px';
                    
                    const verwijderBtn = document.createElement('span');
                    verwijderBtn.textContent = '√ó';
                    verwijderBtn.className = 'verwijder-renner';
                    verwijderBtn.onclick = () => {
                        div.remove();
                        updateRennerTeller();
                    };
                    
                    div.appendChild(checkbox);
                    div.appendChild(naamSpan);
                    div.appendChild(teamSpan);
                    div.appendChild(natSpan);
                    div.appendChild(pcsLink);
                    div.appendChild(verwijderBtn);
                    document.getElementById('rennerLijst').appendChild(div);
                });

                updateRennerTeller();
                document.getElementById('zoekAlleRennersBtn').style.display = 'block';
                document.getElementById('voltooiBtn').disabled = false;
            } catch (error) {
                toonNotificatie('Er is een fout opgetreden bij het verwerken van het Excel bestand. Controleer of het bestand het juiste formaat heeft.');
                console.error('Excel verwerkingsfout:', error);
            }
        }

        function zoekAlleRennersOpPCS() {
            const renners = document.querySelectorAll('#rennerLijst .renner-item');
            renners.forEach(renner => {
                const naam = renner.querySelector('input[type="text"]').value;
                window.open(`https://www.procyclingstats.com/search.php?term=${encodeURIComponent(naam)}`, '_blank');
            });
        }

        function verwijderUitslag(wedstrijdId, rennerNaam) {
            if (wedstrijdData[wedstrijdId] && wedstrijdData[wedstrijdId].scores[rennerNaam]) {
                delete wedstrijdData[wedstrijdId].scores[rennerNaam];
                
                // Herbereken punten en update UI
                berekenPuntenVoorWedstrijd(wedstrijdId);
                
                // Update de uitslag tabel
                const uitslagBody = document.getElementById(`uitslagBody-${wedstrijdId}`);
                if (uitslagBody) {
                    Array.from(uitslagBody.rows).forEach(row => {
                        if (row.cells[1].textContent === rennerNaam) {
                            row.remove();
                        }
                    });
                }
                
                // Sla data op
                slaDataOp();
                
                toonNotificatie(`Uitslag van ${rennerNaam} verwijderd uit ${wedstrijdData[wedstrijdId].naam}`);
        }
        }// Functie voor het tonen en verbergen van het instructies paneel
        function toggleInstructies() {
            const panel = document.getElementById('instructiesPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'block';
            } else {
                panel.style.display = 'none';
            }
        }
        // Functie om een puntenoverzicht te tonen
        function toonPuntenOverzicht() {
            // Maak een modal voor het punten overzicht
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            
            // Maak content
            const modalContent = document.createElement('div');
            modalContent.className = 'modal-content';
            modalContent.style.width = '90%';
            modalContent.style.maxWidth = '900px';
            modalContent.style.textAlign = 'left';
            
            // Titel
            const titel = document.createElement('h2');
            titel.textContent = 'Punten Overzicht';
            modalContent.appendChild(titel);
            
            // Maak tabel
            const table = document.createElement('table');
            table.style.width = '100%';
            table.style.borderCollapse = 'collapse';
            
            // Maak header rij
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            
            // Voeg ploegnaam kolom toe
            const ploegHeader = document.createElement('th');
    ploegHeader.textContent = 'Ploeg';
    ploegHeader.style.position = 'sticky';
    ploegHeader.style.left = '0';
    ploegHeader.style.backgroundColor = '#f8f9fa';
    ploegHeader.style.zIndex = '1';
    headerRow.appendChild(ploegHeader);
    
    // Voeg wedstrijd kolommen toe
    Object.values(wedstrijdData).forEach(wedstrijd => {
        const th = document.createElement('th');
        th.textContent = wedstrijd.naam;
        headerRow.appendChild(th);
    });
    
    // Voeg totaal kolom toe
    const totaalHeader = document.createElement('th');
    totaalHeader.textContent = 'Totaal';
    headerRow.appendChild(totaalHeader);
    
    thead.appendChild(headerRow);
    table.appendChild(thead);
    
    // Maak body
    const tbody = document.createElement('tbody');
    
    // Sorteer deelnemers op totaal aantal punten
    const gesorteerdeDeelnemers = [...deelnemers].sort((a, b) => {
        const totaalA = Object.values(a.punten).reduce((sum, punten) => sum + punten, 0);
        const totaalB = Object.values(b.punten).reduce((sum, punten) => sum + punten, 0);
        return totaalB - totaalA;
    });
    
    // Voeg rijen toe voor elke deelnemer
    gesorteerdeDeelnemers.forEach((deelnemer, index) => {
        const tr = document.createElement('tr');
        
        // Ploegnaam met positie
        const ploegCell = document.createElement('td');
        ploegCell.textContent = `${index + 1}. ${deelnemer.naam}`;
        ploegCell.style.position = 'sticky';
        ploegCell.style.left = '0';
        ploegCell.style.backgroundColor = 'white';
        ploegCell.style.fontWeight = 'bold';
        tr.appendChild(ploegCell);
        
        // Voeg punten toe per wedstrijd
        let totaalPunten = 0;
        Object.entries(wedstrijdData).forEach(([wedstrijdId, wedstrijd]) => {
            const punten = deelnemer.punten[wedstrijdId] || 0;
            totaalPunten += punten;
            
            const td = document.createElement('td');
            td.textContent = punten;
            td.style.textAlign = 'center';
            tr.appendChild(td);
        });
        
        // Voeg totaal toe
        const totaalCell = document.createElement('td');
        totaalCell.textContent = totaalPunten;
        totaalCell.style.fontWeight = 'bold';
        totaalCell.style.textAlign = 'center';
        tr.appendChild(totaalCell);
        
        tbody.appendChild(tr);
    });
    
    table.appendChild(tbody);
    modalContent.appendChild(table);
    
    // Voeg sluit knop toe
    const closeBtn = document.createElement('button');
    closeBtn.className = 'close-modal';
    closeBtn.textContent = 'Sluiten';
    closeBtn.onclick = () => modal.remove();
    modalContent.appendChild(closeBtn);
    
    modal.appendChild(modalContent);
    document.body.appendChild(modal);
}

// Functie voor het exporteren van de huidige stand als CSV bestand
function exporteerStandNaarCSV() {
    // Sorteer deelnemers op totaal aantal punten
    const gesorteerdeDeelnemers = [...deelnemers].sort((a, b) => {
        const totaalA = Object.values(a.punten).reduce((sum, punten) => sum + punten, 0);
        const totaalB = Object.values(b.punten).reduce((sum, punten) => sum + punten, 0);
        return totaalB - totaalA;
    });
    
    // Maak header rij
    let csvContent = 'Positie,Ploeg';
    
    // Voeg wedstrijd namen toe aan header
    Object.values(wedstrijdData).forEach(wedstrijd => {
        csvContent += `,${wedstrijd.naam}`;
    });
    
    // Voeg totaal toe aan header
    csvContent += ',Totaal\n';
    
    // Voeg data rijen toe
    gesorteerdeDeelnemers.forEach((deelnemer, index) => {
        csvContent += `${index + 1},${deelnemer.naam}`;
        
        // Voeg punten toe per wedstrijd
        let totaalPunten = 0;
        Object.entries(wedstrijdData).forEach(([wedstrijdId, wedstrijd]) => {
            const punten = deelnemer.punten[wedstrijdId] || 0;
            totaalPunten += punten;
            csvContent += `,${punten}`;
        });
        
        // Voeg totaal toe
        csvContent += `,${totaalPunten}\n`;
    });
    
    // Download als CSV bestand
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.setAttribute('href', url);
    link.setAttribute('download', 'wielren_poule_stand.csv');
    link.style.visibility = 'hidden';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    alert("De stand is ge√´xporteerd als CSV bestand.");
}

// Functie voor het maken van een backup van alle data
function maakBackup() {
    const data = {
        deelnemers: deelnemers,
        wedstrijdData: wedstrijdData,
        backupDate: new Date().toISOString()
    };
    
    const jsonString = JSON.stringify(data, null, 2);
    const blob = new Blob([jsonString], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    
    const link = document.createElement('a');
    link.href = url;
    link.download = `wielren_poule_backup_${new Date().toISOString().slice(0,10)}.json`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    toonNotificatie('Backup is gemaakt en wordt gedownload.');
}

// Functie voor het herstellen van een backup
function herstelnBackup(input) {
    const file = input.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            const data = JSON.parse(e.target.result);
            
            // Valideer data
            if (!data.deelnemers || !data.wedstrijdData) {
                throw new Error('Ongeldig backup bestand');
            }
            
            // Herstel data
            deelnemers = data.deelnemers;
            wedstrijdData = data.wedstrijdData;
            
            // Sla data op
            slaDataOp();
            
            // Update UI
            updateRanglijst();
            updateDeelnemerKopmanSelect();
            initialiseWedstrijdTabs();
            
            alert(`Backup succesvol hersteld (backup datum: ${new Date(data.backupDate).toLocaleString()})`);
            
            // Ververs de pagina om alle UI elementen correct bij te werken
            setTimeout(() => {
                window.location.reload();
            }, 1500);
        } catch (error) {
            toonNotificatie('Er is een fout opgetreden bij het herstellen van de backup. Controleer of het bestand het juiste formaat heeft.');
            console.error('Backup herstel fout:', error);
        }
    };
    reader.readAsText(file);
}
/* Instructies panel stijlen */
.instructies-panel {
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin: 15px 0;
    padding: 15px;
}

.instructies-content {
    margin-top: 10px;
}

.instructies-tabel {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
}

.instructies-tabel th, .instructies-tabel td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}

.instructies-tabel th {
    background-color: #f0f0f0;
}

.close-instructies {
    background-color: #6c757d;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 10px;
}

.close-instructies:hover {
    background-color: #5a6268;
}
/* HEMA-stijl CSS */
:root {
    --hema-red: #e60000;
    --hema-darkred: #cc0000;
    --hema-lightgray: #f5f5f5;
    --hema-gray: #666666;
    --hema-darkgray: #333333;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: var(--hema-lightgray);
    color: var(--hema-darkgray);
}

.container {
    background-color: white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

h1, h2, h3, h4, h5 {
    color: var(--hema-darkgray);
}

/* Buttons in HEMA stijl */
button, .menu-button, .tab-button {
    background-color: var(--hema-red);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 14px;
    cursor: pointer;
    transition: background-color 0.2s;
}

button:hover, .menu-button:hover, .tab-button:hover {
    background-color: var(--hema-darkred);
}

.tab-button {
    background-color: white;
    color: var(--hema-darkgray);
    border: 1px solid #ddd;
}

.tab-button.active {
    background-color: var(--hema-red);
    color: white;
    border-color: var(--hema-red);
}

/* Tables in HEMA stijl */
table {
    width: 100%;
    border-collapse: collapse;
}

th {
    background-color: var(--hema-red);
    color: white;
    text-transform: uppercase;
    font-size: 14px;
    font-weight: normal;
}

td, th {
    padding: 12px;
    border-bottom: 1px solid #ddd;
}

tr:nth-child(even) {
    background-color: var(--hema-lightgray);
}

/* Forms in HEMA stijl */
input, select {
    border: 2px solid #ddd;
    padding: 10px;
    border-radius: 4px;
    transition: border-color 0.2s;
}

input:focus, select:focus {
    border-color: var(--hema-red);
    outline: none;
}

.form-group {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* Header stijl */
.main-tabs {
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    overflow-x: auto;
    white-space: nowrap;
}

/* HEMA-stijl menu */
.hoofdmenu {
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

/* Success modal in HEMA stijl */
.modal-content {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    border: none;
}

.modal-title {
    color: var(--hema-red);
}

.close-modal {
    background-color: var(--hema-red);
}

.close-modal:hover {
    background-color: var(--hema-darkred);
}

/* HEMA stijl kopmannen sectie */
.kopman-selector {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* Responsive verbeteringen */
@media (max-width: 768px) {
    .main-tabs .tab-button {
        padding: 8px 12px;
        font-size: 12px;
    }
    
    .uitslag-rij {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .hoofdmenu {
        flex-direction: column;
    }
}
// Toon een notificatie
function toonNotificatie(bericht, type = 'success') {
    const notificatieSystem = document.getElementById('notificatie-systeem');
    const notificatieBericht = document.getElementById('notificatie-bericht');
    const notificatieIconElement = document.querySelector('.notificatie-icoon');
    
    // Stel het bericht in
    notificatieBericht.textContent = bericht;
    
    // Stel het icoon in op basis van het type
    let icoon = '‚úì'; // Standaard succes icoon
    let kleur = '#007bff';
    
    if (type === 'error') {
        icoon = '‚úó';
        kleur = '#e74c3c';
    } else if (type === 'info') {
        icoon = '‚Ñπ';
        kleur = '#3498db';
    } else if (type === 'warning') {
        icoon = '‚ö†';
        kleur = '#f39c12';
    }
    
    notificatieIconElement.textContent = icoon;
    
    // Update de stijl
    const notificatieElement = document.querySelector('.notificatie');
    notificatieElement.style.borderLeftColor = kleur;
    notificatieIconElement.style.color = kleur;
    
    // Toon de notificatie
    notificatieSystem.style.display = 'block';
    
    // Verdwijn automatisch na 5 seconden
    setTimeout(() => {
        sluitNotificatie();
    }, 5000);
}

// Sluit de notificatie
function sluitNotificatie() {
    const notificatieSystem = document.getElementById('notificatie-systeem');
    notificatieSystem.style.display = 'none';
}
    </script>
</body>
</html>